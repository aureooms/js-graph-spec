"use strict";var _slicedToArray=function(){function e(e,r){var t=[],n=!0,i=!1,l=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(u){i=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e=function(e,r){var t=require("aureooms-js-itertools"),n=t.exhaust,i=t.chain,l=t.all,a=t.map,o=t.range,u=(t.list,t.zip,require("aureooms-js-cardinality")),d=require("aureooms-js-collections"),c=d.set,p=function(e,t){test("graph-spec : Graph #1 > "+e,function(){for(var e=new t,i=[],o=[],d=11,c=0;d>c;++c)i[c]=e.vadd(c);o[1]=[],o[1][0]=e.eadd(i[1],i[9]),o[0]=[],o[0][0]=e.eadd(i[0],i[10]),o[0][1]=e.eadd(i[0],i[5]),o[0][2]=e.eadd(i[0],i[3]),o[0][3]=e.eadd(i[0],i[1]),o[0][4]=e.eadd(i[0],i[0]),o[1][1]=o[0][3],o[4]=[],o[4][0]=e.eadd(i[4],i[7]);var p,s,f,v=[0,1,4];for(p=0,s=new Set(i),n(a(function(e){ok(s.has(e),"vitr "+p),s["delete"](e),++p},e.vitr())),p=0,f=o[0].concat([o[1][0]]).concat(o[4]),s=new Set(f),n(a(function(e){ok(s.has(e),"eitr "+p),s["delete"](e),++p},e.eitr())),deepEqual(p,f.length,"check edges count before del"),v.forEach(function(r){var t=o[r].length,l=new Set(o[r]);n(a(function(e){--t,ok(l.has(e),"iitr "+r+" "+t),l["delete"](e)},e.iitr(i[r])))}),e.edel(o[1].splice(0,1)[0]),e.edel(o[0].splice(2,1)[0]),e.edel(o[4].splice(0,1)[0]),p=0,f=o[0].concat(o[4]),s=new Set(f),n(a(function(e){ok(s.has(e),"eitr "+p),s["delete"](e),++p},e.eitr())),deepEqual(p,f.length,"check edges count after del"),p=0,s=new Set(a(function(r){var t=e.endpoints(r),n=_slicedToArray(t,2),l=n[0],a=n[1];return l===i[0]?a:l},o[0])),n(a(function(e){ok(s.has(e),"nitr "+p),s["delete"](e),++p},e.nitr(i[0]))),deepEqual(p,o[0].length,"check neighbour count after del"),v.forEach(function(r){var t=o[r].length,l=new Set(o[r]);n(a(function(e){--t,ok(l.has(e),"iitr "+r+" "+t),l["delete"](e)},e.iitr(i[r])))}),e.vdel(i.splice(3,1)[0]),p=0,s=new Set(i),n(a(function(e){ok(s.has(e),"vitr "+p),s["delete"](e),++p},e.vitr())),deepEqual(p,i.length,"check vertex count after del"),o[0].splice(2,1),v.forEach(function(r){for(;o[r].length;)e.edel(o[r].splice(0,1)[0])}),ok(u.empty(e.eitr()),"no more edges"),ok(l(function(){var t=[],n=!0,i=!1,l=r;try{for(var a,o=e.vitr()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var d=a.value;t.push(u.empty(e.iitr(d)))}}catch(c){i=!0,l=c}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return t}()),"no more incident edges");i.length;)e.vdel(i.splice(0,1)[0]);ok(u.empty(e.vitr()),"no more vertices")}),test("graph-spec : Graph #2 > "+e,function(){for(var e=new t,i=[],o=[],d=11,c=0;d>c;++c)i[c]=e.vadd(c);o[1]=[],o[1][0]=e.eadd(i[1],i[9]),o[0]=[],o[0][0]=e.eadd(i[0],i[10]),o[0][1]=e.eadd(i[0],i[5]),o[0][2]=e.eadd(i[0],i[3]),o[0][3]=e.eadd(i[0],i[1]),o[0][4]=e.eadd(i[0],i[0]),o[1][1]=o[0][3],o[4]=[],o[4][0]=e.eadd(i[4],i[7]);var p,s,f,v=[0,1,4];for(p=0,s=new Set(i),n(a(function(e){ok(s.has(e),"vitr "+p),s["delete"](e),++p},e.vitr())),p=0,f=o[0].concat([o[1][0]]).concat(o[4]),s=new Set(f),n(a(function(e){ok(s.has(e),"eitr "+p),s["delete"](e),++p},e.eitr())),deepEqual(p,f.length,"check edges count before del"),v.forEach(function(r){var t=o[r].length,l=new Set(o[r]);n(a(function(e){--t,ok(l.has(e),"iitr "+r+" "+t),l["delete"](e)},e.iitr(i[r])))}),e.edel(o[1].splice(0,1)[0]),e.edel(o[0].splice(2,1)[0]),e.edel(o[4].splice(0,1)[0]),p=0,f=o[0].concat(o[4]),s=new Set(f),n(a(function(e){ok(s.has(e),"eitr "+p),s["delete"](e),++p},e.eitr())),deepEqual(p,f.length,"check edges count after del"),p=0,s=new Set(a(function(r){var t=e.endpoints(r),n=_slicedToArray(t,2),l=n[0],a=n[1];return l===i[0]?a:l},o[0])),n(a(function(e){ok(s.has(e),"nitr "+p),s["delete"](e),++p},e.nitr(i[0]))),deepEqual(p,o[0].length,"check neighbour count after del"),v.forEach(function(r){var t=o[r].length,l=new Set(o[r]);n(a(function(e){--t,ok(l.has(e),"iitr "+r+" "+t),l["delete"](e)},e.iitr(i[r])))}),e.vdel(i.splice(10,1)[0]),o[0].splice(0,1),p=0,s=new Set(i),n(a(function(e){ok(s.has(e),"vitr "+p),s["delete"](e),++p},e.vitr())),deepEqual(p,i.length,"check vertex count after del"),o[0].splice(1,1),v.forEach(function(r){for(;o[r].length;)e.edel(o[r].splice(0,1)[0])}),ok(u.empty(e.eitr()),"no more edges"),ok(l(function(){var t=[],n=!0,i=!1,l=r;try{for(var a,o=e.vitr()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var d=a.value;t.push(u.empty(e.iitr(d)))}}catch(c){i=!0,l=c}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return t}()),"no more incident edges");i.length;)e.vdel(i.splice(0,1)[0]);ok(u.empty(e.vitr()),"no more vertices")})};e.Graph=p;var s=p;e.MultiGraph=s;var f=function(e,t){test("graph-spec : MultiDiGraph simple test > "+e,function(e){var r=new t,n=r.vadd(),i=r.vadd(),l=r.eadd(n,i);e.ok(c([n,i]).isequal(r.vitr()));var a=_slicedToArray(r.edges().next().value,2),o=a[0],d=a[1];e.deepEqual([o,d],[n,i]),r.reverse(),e.ok(c([n,i]).isequal(r.vitr()));var p=_slicedToArray(r.edges().next().value,2);o=p[0],d=p[1],e.deepEqual([o,d],[i,n]),r.edel(l),e.deepEqual(u.len(r.eitr()),0),r.vdel(n),r.vdel(i),e.deepEqual(u.len(r.vitr()),0)}),test("graph-spec : MultiDiGraph extensive test > "+e,function(){var e=new t,d=10,p=r,s=r,f=function(){var t=function(){var t=[],n=!0,i=!1,l=r;try{for(var a,u=o(d)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;t.push(e.vadd(c))}}catch(p){i=!0,l=p}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw l}}return t}(),n=[e.eadd(t[0],t[1]),e.eadd(t[0],t[2]),e.eadd(t[0],t[3]),e.eadd(t[4],t[1]),e.eadd(t[4],t[2]),e.eadd(t[4],t[3]),e.eadd(t[5],t[6]),e.eadd(t[5],t[7]),e.eadd(t[5],t[8]),e.eadd(t[9],t[6]),e.eadd(t[9],t[7]),e.eadd(t[9],t[8]),e.eadd(t[0],t[1]),e.eadd(t[0],t[2]),e.eadd(t[0],t[3])];return[t,n]},v=function(){return n(a(e.edel.bind(e),s))},q=function(){return n(a(e.vdel.bind(e),p))},y=f(),h=_slicedToArray(y,2);p=h[0],s=h[1],deepEqual(u.len(e.vitr()),10),deepEqual(u.len(e.eitr()),15),v(),deepEqual(u.len(e.vitr()),10),deepEqual(u.len(e.eitr()),0),q(),deepEqual(u.len(e.vitr()),0),deepEqual(u.len(e.eitr()),0);var E=f(),k=_slicedToArray(E,2);p=k[0],s=k[1],deepEqual(u.len(e.vitr()),10),deepEqual(u.len(e.eitr()),15),q(),deepEqual(u.len(e.vitr()),0),deepEqual(u.len(e.eitr()),0);var g=f(),w=_slicedToArray(g,2);p=w[0],s=w[1],deepEqual(u.len(e.iitr(p[0])),6),deepEqual(u.len(e.iitr(p[1])),3),deepEqual(u.len(e.iitr(p[2])),3),deepEqual(u.len(e.iitr(p[3])),3),deepEqual(u.len(e.iitr(p[4])),3),deepEqual(u.len(e.iitr(p[5])),3),deepEqual(u.len(e.iitr(p[6])),2),deepEqual(u.len(e.iitr(p[7])),2),deepEqual(u.len(e.iitr(p[8])),2),deepEqual(u.len(e.iitr(p[9])),3),deepEqual(u.len(e.initr(p[0])),0),deepEqual(u.len(e.initr(p[1])),3),deepEqual(u.len(e.initr(p[2])),3),deepEqual(u.len(e.initr(p[3])),3),deepEqual(u.len(e.initr(p[4])),0),deepEqual(u.len(e.initr(p[5])),0),deepEqual(u.len(e.initr(p[6])),2),deepEqual(u.len(e.initr(p[7])),2),deepEqual(u.len(e.initr(p[8])),2),deepEqual(u.len(e.initr(p[9])),0),deepEqual(u.len(e.outitr(p[0])),6),deepEqual(u.len(e.outitr(p[1])),0),deepEqual(u.len(e.outitr(p[2])),0),deepEqual(u.len(e.outitr(p[3])),0),deepEqual(u.len(e.outitr(p[4])),3),deepEqual(u.len(e.outitr(p[5])),3),deepEqual(u.len(e.outitr(p[6])),0),deepEqual(u.len(e.outitr(p[7])),0),deepEqual(u.len(e.outitr(p[8])),0),deepEqual(u.len(e.outitr(p[9])),3),e.reverse(),deepEqual(u.len(e.iitr(p[0])),6),deepEqual(u.len(e.iitr(p[1])),3),deepEqual(u.len(e.iitr(p[2])),3),deepEqual(u.len(e.iitr(p[3])),3),deepEqual(u.len(e.iitr(p[4])),3),deepEqual(u.len(e.iitr(p[5])),3),deepEqual(u.len(e.iitr(p[6])),2),deepEqual(u.len(e.iitr(p[7])),2),deepEqual(u.len(e.iitr(p[8])),2),deepEqual(u.len(e.iitr(p[9])),3),deepEqual(u.len(e.outitr(p[0])),0),deepEqual(u.len(e.outitr(p[1])),3),deepEqual(u.len(e.outitr(p[2])),3),deepEqual(u.len(e.outitr(p[3])),3),deepEqual(u.len(e.outitr(p[4])),0),deepEqual(u.len(e.outitr(p[5])),0),deepEqual(u.len(e.outitr(p[6])),2),deepEqual(u.len(e.outitr(p[7])),2),deepEqual(u.len(e.outitr(p[8])),2),deepEqual(u.len(e.outitr(p[9])),0),deepEqual(u.len(e.initr(p[0])),6),deepEqual(u.len(e.initr(p[1])),0),deepEqual(u.len(e.initr(p[2])),0),deepEqual(u.len(e.initr(p[3])),0),deepEqual(u.len(e.initr(p[4])),3),deepEqual(u.len(e.initr(p[5])),3),deepEqual(u.len(e.initr(p[6])),0),deepEqual(u.len(e.initr(p[7])),0),deepEqual(u.len(e.initr(p[8])),0),deepEqual(u.len(e.initr(p[9])),3),ok(c(e.nitr(p[0])).isequal([p[1],p[2],p[3]])),ok(c(e.nitr(p[1])).isequal([p[0],p[4]])),ok(c(e.nitr(p[2])).isequal([p[0],p[4]])),ok(c(e.nitr(p[3])).isequal([p[0],p[4]])),ok(c(e.nitr(p[4])).isequal([p[1],p[2],p[3]])),ok(c(e.nitr(p[5])).isequal([p[6],p[7],p[8]])),ok(c(e.nitr(p[6])).isequal([p[5],p[9]])),ok(c(e.nitr(p[7])).isequal([p[5],p[9]])),ok(c(e.nitr(p[8])).isequal([p[5],p[9]])),ok(c(e.nitr(p[9])).isequal([p[6],p[7],p[8]])),ok(c(e.dsitr(p[0])).isequal([])),ok(c(e.dsitr(p[1])).isequal([p[0],p[4]])),ok(c(e.dsitr(p[2])).isequal([p[0],p[4]])),ok(c(e.dsitr(p[3])).isequal([p[0],p[4]])),ok(c(e.dsitr(p[4])).isequal([])),ok(c(e.dsitr(p[5])).isequal([])),ok(c(e.dsitr(p[6])).isequal([p[5],p[9]])),ok(c(e.dsitr(p[7])).isequal([p[5],p[9]])),ok(c(e.dsitr(p[8])).isequal([p[5],p[9]])),ok(c(e.dsitr(p[9])).isequal([])),ok(c(e.dpitr(p[0])).isequal([p[1],p[2],p[3]])),ok(c(e.dpitr(p[1])).isequal([])),ok(c(e.dpitr(p[2])).isequal([])),ok(c(e.dpitr(p[3])).isequal([])),ok(c(e.dpitr(p[4])).isequal([p[1],p[2],p[3]])),ok(c(e.dpitr(p[5])).isequal([p[6],p[7],p[8]])),ok(c(e.dpitr(p[6])).isequal([])),ok(c(e.dpitr(p[7])).isequal([])),ok(c(e.dpitr(p[8])).isequal([])),ok(c(e.dpitr(p[9])).isequal([p[6],p[7],p[8]])),deepEqual(u.len(e.edges()),15,"G.edges( ) length");var m=c(s),S=c(),b=!0,x=!1,A=r;try{for(var T,_=e.edges()[Symbol.iterator]();!(b=(T=_.next()).done);b=!0){var j=_slicedToArray(T.value,3),G=j[0],M=j[1],D=j[2];S.has(D)||(ok(m.has(D)),deepEqual([G,M],e.endpoints(D)),m.remove(D),S.add(D))}}catch(z){x=!0,A=z}finally{try{!b&&_["return"]&&_["return"]()}finally{if(x)throw A}}var I=!0,O=!1,B=r;try{for(var C,F=function(){var t=C.value;ok(l(function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.incident(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,2),c=d[0],s=d[1];n.push(c===p[t]||s===p[t])}}catch(f){l=!0,a=f}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}())),ok(c(function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.incident(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,3),c=(d[0],d[1],d[2]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()).isequal(i([function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.ingoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,3),c=(d[0],d[1],d[2]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}(),function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.outgoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,3),c=(d[0],d[1],d[2]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()]))),ok(c(function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.incident(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,2),c=(d[0],d[1]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()).isequal(i([function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.ingoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,2),c=(d[0],d[1]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}(),function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.outgoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,2),c=(d[0],d[1]);n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()]))),ok(c(function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.incident(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,1),c=d[0];n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()).isequal(i([function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.ingoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,1),c=d[0];n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}(),function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.outgoing(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,1),c=d[0];n.push(c)}}catch(s){l=!0,a=s}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()]))),ok(c(e.nitr(p[t])).isequal(function(){var n=[],i=!0,l=!1,a=r;try{for(var o,u=e.incident(p[t])[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var d=_slicedToArray(o.value,2),c=d[0],s=d[1];n.push(c===p[t]?s:c)}}catch(f){l=!0,a=f}finally{try{!i&&u["return"]&&u["return"]()}finally{if(l)throw a}}return n}()))},H=o(d)[Symbol.iterator]();!(I=(C=H.next()).done);I=!0)F()}catch(z){O=!0,B=z}finally{try{!I&&H["return"]&&H["return"]()}finally{if(O)throw B}}v(),deepEqual(u.len(e.vitr()),10),deepEqual(u.len(e.eitr()),0),q(),deepEqual(u.len(e.vitr()),0),deepEqual(u.len(e.eitr()),0)})};return e.MultiDiGraph=f,e};"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define("aureooms-js-graph-spec",[],function(){return e({})}):"object"==typeof window&&"object"==typeof window.document?e(window.graphspec={}):console.error("unable to detect type of module to define for aureooms-js-graph-spec")}();
//# sourceMappingURL=js/dist/graph-spec.js.map